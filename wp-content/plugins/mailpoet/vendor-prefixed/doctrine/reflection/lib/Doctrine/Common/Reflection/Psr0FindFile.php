<?php
 namespace MailPoetVendor\Doctrine\Common\Reflection; if (!defined('ABSPATH')) exit; use const DIRECTORY_SEPARATOR; use function is_file; use function str_replace; use function strpos; use function strrpos; use function substr; class Psr0FindFile implements \MailPoetVendor\Doctrine\Common\Reflection\ClassFinderInterface { protected $prefixes; public function __construct($prefixes) { $this->prefixes = $prefixes; } public function findFile($class) { if ($class[0] === '\\') { $class = \substr($class, 1); } $lastNsPos = \strrpos($class, '\\'); if ($lastNsPos !== \false) { $classPath = \str_replace('\\', \DIRECTORY_SEPARATOR, \substr($class, 0, $lastNsPos)) . \DIRECTORY_SEPARATOR; $className = \substr($class, $lastNsPos + 1); } else { $classPath = null; $className = $class; } $classPath .= \str_replace('_', \DIRECTORY_SEPARATOR, $className) . '.php'; foreach ($this->prefixes as $prefix => $dirs) { if (\strpos($class, $prefix) !== 0) { continue; } foreach ($dirs as $dir) { if (\is_file($dir . \DIRECTORY_SEPARATOR . $classPath)) { return $dir . \DIRECTORY_SEPARATOR . $classPath; } } } return null; } } 