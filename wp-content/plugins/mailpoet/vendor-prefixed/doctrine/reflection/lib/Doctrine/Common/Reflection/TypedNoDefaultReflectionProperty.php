<?php
 namespace MailPoetVendor\Doctrine\Common\Reflection; if (!defined('ABSPATH')) exit; use ReflectionProperty; class TypedNoDefaultReflectionProperty extends \ReflectionProperty { public function getValue($object = null) { return $object !== null && $this->isInitialized($object) ? parent::getValue($object) : null; } public function setValue($object, $value = null) { if ($value === null && $this->hasType() && !$this->getType()->allowsNull()) { $propertyName = $this->getName(); $unsetter = function () use($propertyName) { unset($this->{$propertyName}); }; $unsetter = $unsetter->bindTo($object, $this->getDeclaringClass()->getName()); $unsetter(); return; } parent::setValue($object, $value); } } 