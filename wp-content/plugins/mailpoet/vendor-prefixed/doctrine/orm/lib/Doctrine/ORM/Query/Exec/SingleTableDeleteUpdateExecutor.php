<?php
 namespace MailPoetVendor\Doctrine\ORM\Query\Exec; if (!defined('ABSPATH')) exit; use MailPoetVendor\Doctrine\DBAL\Connection; use MailPoetVendor\Doctrine\ORM\Query\AST; class SingleTableDeleteUpdateExecutor extends \MailPoetVendor\Doctrine\ORM\Query\Exec\AbstractSqlExecutor { public function __construct(\MailPoetVendor\Doctrine\ORM\Query\AST\Node $AST, $sqlWalker) { if ($AST instanceof \MailPoetVendor\Doctrine\ORM\Query\AST\UpdateStatement) { $this->_sqlStatements = $sqlWalker->walkUpdateStatement($AST); } else { if ($AST instanceof \MailPoetVendor\Doctrine\ORM\Query\AST\DeleteStatement) { $this->_sqlStatements = $sqlWalker->walkDeleteStatement($AST); } } } public function execute(\MailPoetVendor\Doctrine\DBAL\Connection $conn, array $params, array $types) { return $conn->executeUpdate($this->_sqlStatements, $params, $types); } } 